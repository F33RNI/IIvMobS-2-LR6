# IIvMobS-2-LR6

## ü§° –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –≤ –º–æ–±–∏–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –ß–∞—Å—Ç—å 2 (—Å–µ–º–µ—Å—Ç—Ä 4)

### 8. –§—Ä–µ–π–º–≤–æ—Ä–∫–∏ Keras –∏ OpenCV –≤ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞

----------

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

> –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∫ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç–µ (–∏–∑ –õ–ú–°) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `–ò–ò –≤ –ú–æ–±–°-2_ 8.2. –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∫ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–º—É –∑–∞–Ω—è—Ç–∏—é 6_.pdf`
>
> –ü—Ä–∏–º–µ—Ä –æ—Ç—á—ë—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `224-371_Fern_Lane_IIvMS2_PR6.odt` (—Ñ–æ—Ä–º–∞—Ç OpenDocument). –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –æ—Ñ–∏—Å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –∏–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç (`.docx` / `pdf`), —Å–æ–∑–¥–∞–π—Ç–µ Issue.

‚ö†Ô∏è **–ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ –æ—Ç—á—ë—Ç! –í–∞—à –æ—Ç—á—ë—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –∏ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º. –ò–Ω–∞—á–µ –∑–∞–±—Ä–∞–∫—É—é—Ç –∏ –≤–∞—à—É, –∏ –º–æ—é –ª–∞–±—É! –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –æ—Ç—á—ë—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∏, —Ç–µ–º –±–æ–ª–µ–µ, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è!**

> –í—Å–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–∏—Å—Ç–µ–º–µ **Linux** –∏ Python –≤–µ—Ä—Å–∏–∏ **3.7.17** (–æ Python —á–∏—Ç–∞–π—Ç–µ –Ω–∏–∂–µ)

----------

## üí© –ö–∞–∫ —ç—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å?

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å –ø–∞–ø–∫—É –≤ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç–µ –¥–µ–ª–∞—Ç—å —ç—Ç—É –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Ä–∞–±–æ—Ç—É, —á—Ç–æ–±—ã –≤—Å–µ —Ñ–∞–π–ª—ã –±—ã–ª–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –≤–µ—Ä—Å–∏–∏ **3.7**. –ù–∞ –≤–µ—Ä—Å–∏—è—Ö –≤—ã—à–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ). –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ –±—ã–ª–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ Python –≤–µ—Ä—Å–∏–∏ **3.7.17**
   - –î–ª—è –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –ø–∞–∫–µ—Ç–æ–≤ Pamac:

    ```shell
    pamac install python37
    ```

   - –î–ª—è Windows, —Å–∫–∞—á–∞—Ç—å Python –º–æ–∂–Ω–æ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ: <https://www.python.org/downloads/>

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Python. –ù–∞–ø—Ä–∏–º–µ—Ä: `python37 --version`. –õ–∏–±–æ –º–æ–∂–µ—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É
4. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É (–≤–º–µ—Å—Ç–æ `python37` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—É –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞ Python **3.7**, –∫–æ—Ç–æ—Ä–∞—è —Å—Ä–∞–±–æ—Ç–∞–ª–∞ –¥–ª—è –≤–∞—Å)
    - –ù–∞ Linux

    ```shell
    python37 -m venv venv
    source venv/bin/activate
    ```

    - –ù–∞ Windows

    ```shell
    python37 -m venv venv
    venv\Scripts\activate.bat
    ```

5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ

    ```shell
    pip install -r requirements.txt
    ```

6. –°–∫–∞—á–∞–π—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–µ: <http://vision.stanford.edu/aditya86/ImageNetDogs/images.tar>
7. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –µ–≥–æ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –≤ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ (`Images`) –±—ã–ª–∏ –ø–∞–ø–∫–∏ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞

    ```text
    Images
    ‚îú‚îÄ‚îÄ n02085620-Chihuahua
    ‚îÇ   ‚îú‚îÄ‚îÄ n02085620_10074.jpg
    ‚îÇ   ‚îú‚îÄ‚îÄ n02085620_10131.jpg
    ‚îÇ   ...
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ n02085620_952.jpg
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ n02085620_9654.jpg
    ‚îú‚îÄ‚îÄ n02085782-Japanese_spaniel
    ‚îÇ   ‚îú‚îÄ‚îÄ n02085782_1039.jpg
    ‚îÇ   ‚îú‚îÄ‚îÄ n02085782_1058.jpg
    ‚îÇ   ...
    ...
    ```

8. –°–æ–∑–¥–∞–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞–ø–∫–∏

    ```shell
    mkdir tf_files
    mkdir tf_files/dogs_bottleneck_mobilenet
    mkdir model
    ```

9. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –≤–µ—Ç–∫—É `v1.15.0` —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è tensorflow/tensorflow

    ```shell
    git clone -b v1.15.0 --single-branch https://github.com/tensorflow/tensorflow.git
    ```

10. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é examples –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è tensorflow/hub

    ```shell
    git clone -n --depth=1 --filter=tree:0 https://github.com/tensorflow/hub.git
    cd hub
    git sparse-checkout set --no-cone examples
    git checkout
    cd ..
    ```

11. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±—É–¥–µ—Ç –¥–æ–ª–≥–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –ª–æ–≥–∞–º–∏ `... retrain.py:476] ... bottleneck files created.`. –û–Ω–æ –¥–æ–ª–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å—Ç–æ–ª—å–∫–æ –∂–µ —Ñ–∞–π–ª–æ–≤ —Å–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ —Å–∫–∞—á–µ–Ω–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ (~20500)

    - –ù–∞ Linux

    ```shell
    python hub/examples/image_retraining/retrain.py \
      --output_graph=tf_files/dog_retrained_mobilenet10_224.pb \
      --output_labels=tf_files/dog_retrained_labels_mobilenet.txt \
      --image_dir Images \
      --bottleneck_dir=tf_files/dogs_bottleneck_mobilenet \
      --architecture mobilenet_1.0_224 --saved_model_dir model
    ```

    - –ù–∞ Windows

    ```shell
    python hub\examples\image_retraining\retrain.py --output_graph=tf_files\dog_retrained_mobilenet10_224.pb --output_labels=tf_files\dog_retrained_labels_mobilenet.txt --image_dir Images --bottleneck_dir=tf_files\dogs_bottleneck_mobilenet --architecture mobilenet_1.0_224 --saved_model_dir model
    ```

12. –û–±—É—á–µ–Ω–∏–µ –Ω–∞—á—ë—Ç—Å—è –∫–æ–≥–¥–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±—É–¥—É—Ç —Ç–∞–∫–∏–µ –ª–æ–≥–∏. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

    ```text
    ... retrain.py:1109] ...: Step 0: Train accuracy = 22.0%
    ... retrain.py:1111] ...: Step 0: Cross entropy = 4.762917
    ... retrain.py:1130] ...: Step 0: Validation accuracy = 5.0% (N=100)

    ```

13. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏—Å—å —Ñ–∞–π–ª—ã:
    - `tf_files/dog_retrained_mobilenet10_224.pb`  
    - `tf_files/dog_retrained_labels_mobilenet.txt`
    - `model/saved_model.pb`

14. –ü–æ–∫–∞–∂–∏—Ç–µ –¥–ª—è –æ—Ç—á—ë—Ç–∞ —á—Ç–æ –º–æ–¥–µ–ª—å –æ–±—É—á–∏–ª–∞—Å—å –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –î–ª—è —ç—Ç–æ–≥–æ, —Å–∫–∞—á–∞–π—Ç–µ –ª—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±–∞–∫–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã
    - –ù–∞ Linux

    ```shell
    cd tensorflow
    python tensorflow/examples/label_image/label_image.py \
        --graph=../tf_files/dog_retrained_mobilenet10_224.pb \
        --image=../–ø—É—Ç—å/–∫/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.png \
        --input_layer=Placeholder \
        --output_layer=final_result \
        --labels=../tf_files/dog_retrained_labels_mobilenet.txt \
        --input_height=299 \
        --input_width=299
    cd ..
    ```

    - –ù–∞ Windows

    ```text
    (‚ïØ¬∞‚ñ°¬∞)‚ïØÔ∏µ ‚îª‚îÅ‚îª
    –∞ —Ñ—Å—å–æ, –¥–ª—è —à–∏–Ω–¥—ã –±–æ–±—à–µ –Ω–µ –±—É–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–≤
    ```

15. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞ —Ç–∞–∫–æ–≥–æ

    ```text
    n02085782 japanese spaniel 0.91382486
    n02086079 pekinese 0.044307142
    n02086240 shih tzu 0.0052610235
    n02086646 blenheim spaniel 0.0027033817
    n02086910 papillon 0.002611663
    ```

16. –î–ª—è –∫—É—á–∏ –∫—Ä–∞—Å–∏–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤, –∑–∞–ø—É—Å—Ç–∏—Ç–µ TensorBoard. –ù–æ –≤ –Ω–∞—á–∞–ª–µ, –Ω—É–∂–Ω–æ —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ (–∏–Ω–∞—á–µ –ø–∞–ø–∫–∞ —Å –ª–æ–≥–∞–º–∏ –º–æ–≥–ª–∞ —É–¥–∞–ª–∏—Ç—å—Å—è). –î–ª—è —ç—Ç–æ–≥–æ, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç 11, –Ω–æ —Ç.–∫. –≤ –∑–∞–¥–∞–Ω–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è *–° —Ü–µ–ª—å—é –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –ø—Ä–æ–≤–µ–¥–∏—Ç–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã...*, –¥–æ–±–∞–≤—å—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç `--learning_rate 0.007` –∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ª—É—á—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, —Ç.–∫. –æ–Ω–∏ –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ —Å–Ω–∏–∂–∞—é—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞—á–∞–ª–æ—Å—å, –æ—Ç–∫—Ä–æ–π—Ç–µ –≤—Ç–æ—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ç–µ–∫—É—â—É—é –ø–∞–ø–∫—É —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É. –î–∞–ª–µ–µ, –∑–∞–ø—É—Å—Ç–∏—Ç–µ TensorBoard

    –ù–∞ Linux, `retrain.py` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–≥–∏ –≤ `/tmp/retrain_logs`, –ø–æ—ç—Ç–æ–º—É, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å TensorBoard:

    ```shell
    tensorboard --logdir /tmp/retrain_logs
    ```

    –ù–∞ Windows –ø–∞–ø–∫–∞ —Å –ª–æ–≥–∞–º–∏ —è–≤–Ω–æ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ. –í –õ–ú–° –Ω–∞–ø–∏—Å–∞–Ω–æ —á—Ç–æ —ç—Ç–æ `tensorboard --logdir logs` –Ω–æ —ç—Ç–æ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –Ω–µ —Ç–∞–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∏—Å–∫–∞—Ç—å –ø–∞–ø–∫—É `retrain_logs` –≤ –ø–∞–ø–∫–µ —Å–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ (`C:\Users\–ò–º—è–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\AppData\Local\Temp`) –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–≥—É–≥–ª–∏—Ç–µ

17. –ï—Å–ª–∏ –ø–∞–ø–∫–∞ —Å –ª–æ–≥–∞–º–∏ –Ω–∞–π–¥–µ–Ω–∞ –≤–µ—Ä–Ω–∞, —Ç–æ –∫–æ–≥–¥–∞ –Ω–∞—á–Ω—ë—Ç—Å—è –æ–±—É—á–µ–Ω–∏–µ, –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ TensorBoard (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É) –ø–æ—è–≤–∏—Ç—Å—è –≥—Ä–∞—Ñ –∏ –∫—É—á–∞ –¥—Ä—É–≥–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ (—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫–∏ **SCALARS** –∏ **GRAPHS**). –í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—É—á–µ–Ω–∏—è –¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏—Ö –¥–ª—è –æ—Ç—á—ë—Ç–∞
18. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –±–ª–∞–≥–æ–¥–∞—Ä—è —É–º–µ–Ω—å—à–µ–Ω–∏—é / —É–≤–µ–ª–∏—á–µ–Ω–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª—å –æ–±—É—á–∏–ª–∞—Å—å –ª—É—á—à–µ (–¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Ç–∞–∫)
19. –î–ª—è –ø—É–Ω–∫—Ç–∞ –∑–∞–¥–∞–Ω–∏—è *–ü—Ä–æ–≤–µ–¥–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –º–æ–¥–µ–ª–∏ –æ–¥–Ω–∏–º –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –í–∞–º–∏ —Å–ø–æ—Å–æ–±–æ–≤ (strip_unused –∏–ª–∏ transform_graph)* –∑–∞–ø—É—Å—Ç–∏—Ç–µ `strip_unused.py`, —Ç.–∫. —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑ –¥–≤—É—Ö, —á—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–±–æ—Ä–∫–∏. –ù–∏–∂–µ –ø—Ä–∏–º–µ—Ä –¥–ª—è Linux. –î–ª—è —à–∏–Ω–¥—ã –Ω—É–∂–Ω–æ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –ø–æ–º–µ–Ω—è—Ç—å —Å–ª—ç—à–∏ :)

    ```shell
    cd tensorflow
    python tensorflow/python/tools/strip_unused.py \
    --input_graph=../tf_files/dog_retrained_mobilenet10_224.pb \
    --output_graph=../tf_files/stripped_dog_retrained_mobilenet10_224.pb \
    --input_node_names=Placeholder \
    --output_node_names=final_result \
    --input_binary=true
    cd ..
    ```

20. –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª `stripped_dog_retrained_mobilenet10_224.pb`. –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Ç–æ, —á—Ç–æ –º–æ–¥–µ–ª—å –ø–æ –ø—Ä–µ–∂–Ω–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ), –ø—Ä–æ–¥–µ–ª–∞–≤ –ø—É–Ω–∫—Ç 14, —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ `dog_retrained_mobilenet10_224.pb`, —É–∫–∞–∑–∞–≤ `stripped_dog_retrained_mobilenet10_224.pb`
21. üëì –í—Ä–µ–º—è –∫–æ–Ω—Å–ø–∏—Ä–∞—Ü–∏–∏! –î–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, —Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–¥ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —É–∂–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ (—Ö–æ—Ç—è –º–æ–∂–µ—Ç —É –≤–∞—Å –µ—Å—Ç—å —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Android Studio –∏ –≤—ã —Å–º–æ–≥–ª–∏ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, –Ω–æ –Ω–∞–¥–æ –ª–∏ –æ–Ω–æ –≤–∞–º...). –ü–æ—ç—Ç–æ–º—É, –Ω—É–∂–Ω–æ –≤ –ª—é–±–æ–º —Ñ–æ—Ç–æ-—Ä–µ–¥–∞–∫—Ç–æ—Ä–µ —Å–¥–µ–ª–∞—Ç—å –ø–æ–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç:

    ![–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Å–ø–∏—Ä–∞—Ü–∏–∏](android.png)

22. –í –æ—Ç—á—ë—Ç–µ –æ–ø–∏—à–∏—Ç–µ —á—Ç–æ –≤—ã —Å–æ–±–∏—Ä–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –º–µ–Ω—è–ª–∏ –≤—Å—è–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∑–∞–ø—É—Å–∫–∞–ª–∏ –µ–≥–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ / —ç–º—É–ª—è—Ç–æ—Ä–∞–º–∏ —Å —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–Ω—Å–ø–∏—Ä–∞—Ü–∏—è–º–∏
23. –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –º–æ–∂–µ—Ç–µ –¥–∞–∂–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –æ—Ç—á—ë—Ç (—Ä–∞–Ω–¥–æ–º–Ω—ã–π –∫–æ–¥ —Ñ–∞–π–ª–∞ `MainActivity.java` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Android)

–£–¥–∞—á–∏! üçÄ
